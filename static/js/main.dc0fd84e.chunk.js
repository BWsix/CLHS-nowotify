(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{81:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(15),r=c.n(i),s=(c(81),c(12)),o=c(34),j=(c(92),c(63),c(64)),l=c(123),d=c(126),b=c(69),h=c(128),O=c(129),u=c(130),x=c(2),m=[["line\u7fa4\u7d44\u901a\u77e5","https://i.imgur.com/po8mLk0.png"],["discord\u983b\u9053\u901a\u77e5","https://i.imgur.com/Y6nEr9j.png"],["\u8a2d\u5b9a\u9801\u9762","https://i.imgur.com/1XrN0qZ.png"]],p=[["\u529f\u80fd\u66f4\u65b0","2021/8/5",Object(x.jsxs)(x.Fragment,{children:['\u65b0\u589e "\u5ffd\u7565\u516c\u544a" \u529f\u80fd',Object(x.jsx)("br",{}),"\u7576\u516c\u544a\u5167\u5bb9\u51fa\u73fe\u7279\u5b9a\u95dc\u9375\u5b57\u6642\uff0c\u4e0d\u8981\u767c\u9001\u901a\u77e5",Object(x.jsx)("br",{}),"(\u9810\u8a2d\u662f\u5ffd\u7565\u6a19\u6848\u76f8\u95dc \u3001\u6559\u5e2b\u76f8\u95dc)"]})],["\u529f\u80fd\u66f4\u65b0","2021/8/4",Object(x.jsxs)(x.Fragment,{children:['\u52a0\u5165"\u53ea\u63a5\u6536\u91d8\u9078\u516c\u544a"\u9078\u9805',Object(x.jsx)("br",{}),'\u73fe\u5728\u53ef\u4ee5\u9078\u64c7\u53ea\u63a5\u6536\u6709"HOT!"\u6a19\u7c64\u7684\u516c\u544a\u4e86',Object(x.jsx)("br",{}),"(\u9810\u8a2d\u662f\u63a5\u6536\u6240\u6709\u516c\u544a)"]})]],f=Object(l.a)({card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160},image_outer:{display:"flex",flexDirection:"column",justifyContent:"center"},image:{maxWidth:"100%"}}),g=function(){var e=f();return Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(b.a,{component:"h2",variant:"h4",color:"textSecondary",children:Object(x.jsx)("b",{children:"\u87a2\u5e55\u622a\u5716"})}),m.map((function(t,c){var n=Object(s.a)(t,2),a=n[0],i=n[1];return Object(x.jsxs)("div",{children:[Object(x.jsxs)(b.a,{component:"h3",variant:"h5",color:"textSecondary",children:[Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:a})]}),Object(x.jsx)(h.a,{component:"div",children:Object(x.jsx)("img",{src:i,alt:"",className:e.image})})]},c)}))]})},v=function(){var e=f();return Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(b.a,{component:"h2",variant:"h4",color:"textSecondary",children:Object(x.jsx)("b",{children:"\u516c\u544a"})}),Object(x.jsx)("br",{}),p.map((function(t,c){var n=Object(s.a)(t,3),a=n[0],i=n[1],r=n[2];return Object(x.jsxs)("div",{children:[Object(x.jsx)(h.a,{component:"div",children:Object(x.jsx)(O.a,{className:e.card,children:Object(x.jsx)("div",{className:e.cardDetails,children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(b.a,{component:"h2",variant:"h5",children:a}),Object(x.jsx)(b.a,{variant:"subtitle1",color:"textSecondary",children:i}),Object(x.jsx)(b.a,{variant:"subtitle1",children:r})]})})})}),Object(x.jsx)("br",{})]},c)})),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)(b.a,{component:"h2",variant:"h4",color:"textSecondary",children:Object(x.jsx)("b",{children:"\u539f\u59cb\u78bc"})}),Object(x.jsx)("br",{}),Object(x.jsx)(h.a,{component:"a",target:"_blank",href:"https://github.com/BWsix/CLHS-nowotify",rel:"noreferrer",children:Object(x.jsx)(O.a,{className:e.card,children:Object(x.jsx)("div",{className:e.cardDetails,children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(b.a,{component:"h2",variant:"h5",children:Object(x.jsx)("b",{children:"client side"})}),Object(x.jsx)(b.a,{variant:"subtitle1",color:"textSecondary",children:"typescript-react + material-ui"}),Object(x.jsx)(b.a,{variant:"subtitle1",paragraph:!0,children:"\u6975\u5ea6\u9700\u8981\u5e6b\u52a9\uff0c\u6211\u7684\u7f8e\u611f\u5c11\u7684\u6709\u9ede\u53ef\u6190"}),Object(x.jsx)(b.a,{variant:"subtitle1",color:"secondary",children:"\u524d\u5f80github - CLHS-nowotify"})]})})})}),Object(x.jsx)("br",{}),Object(x.jsx)(h.a,{component:"a",target:"_blank",href:"https://github.com/BWsix/CLHS-nowotify-server",rel:"noreferrer",children:Object(x.jsx)(O.a,{className:e.card,children:Object(x.jsx)("div",{className:e.cardDetails,children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(b.a,{component:"h2",variant:"h5",children:Object(x.jsx)("b",{children:"server side"})}),Object(x.jsx)(b.a,{variant:"subtitle1",color:"textSecondary",children:"python + firebase"}),Object(x.jsx)(b.a,{variant:"subtitle1",paragraph:!0,children:"\u96d6\u7136\u5f8c\u7aef\u6709\u597d\u4e00\u4e9b\uff0c\u4f46\u9084\u662f\u9700\u8981\u5e6b\u52a9"}),Object(x.jsx)(b.a,{variant:"subtitle1",color:"secondary",children:"\u524d\u5f80github - CLHS-nowotify-server"})]})})})})]})},y=c(66),w=c(23),N=c(4),k=["id"],S=c(131),L=Object(l.a)((function(e){return{tutorial:{paddingTop:e.spacing(6)},step:{paddingTop:e.spacing(2)},image:{maxWidth:"100%"}}})),C=function(e){var t=e.type,c=L();return Object(x.jsxs)("div",{className:c.tutorial,children:[Object(x.jsx)(b.a,{variant:"h5",children:Object(x.jsxs)("b",{children:["\u5982\u4f55\u53d6\u5f97"," ","discord"===t?"Discord webhook url":"Line notify token"," ?"]})}),"discord"===t?Object(x.jsxs)("div",{children:[Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:'1. \u9ede\u9078 "\u6587\u5b57\u983b\u9053" \u65c1\u7684 "\u7de8\u8f2f\u983b\u9053" \u6309\u9215'}),Object(x.jsx)("img",{src:"https://i.imgur.com/Owc3iPH.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:'2. \u9032\u5165 "\u6574\u5408" \u9801\u9762'}),Object(x.jsx)("img",{src:"https://i.imgur.com/lkhlYcB.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:'\uff13. \u9078\u64c7 "\u5efa\u7acbWebhook"'}),'*\u5982\u679c\u5df2\u7d93\u6709\u8a72\u983b\u9053\u5df2\u7d93\u6709Webhook\uff0c\u8acb\u9078\u64c7 "\u67e5\u770bWebhook" -',"> ",'"\u65b0Webhook"',Object(x.jsx)("img",{src:"https://i.imgur.com/c7DHmRr.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:'4. \u9ede\u9078 "\u8907\u88fdWebhook\u7db2\u5740"'}),Object(x.jsx)("img",{src:"https://i.imgur.com/1mKbwQL.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:"5. \u7e7c\u7e8c\u5b8c\u6210\u4e0a\u65b9\u7684\u8868\u683c\u5c31\u5927\u529f\u544a\u6210\u4e86!"}),Object(x.jsx)("br",{})]}):Object(x.jsxs)("div",{children:[Object(x.jsxs)(b.a,{variant:"h6",className:c.step,children:["(\u9019\u90e8\u5206\u53ea\u80fd\u5728\u96fb\u8166\u8a2d\u5b9a) ",Object(x.jsx)("br",{})]}),Object(x.jsxs)(b.a,{variant:"h6",className:c.step,children:["1. \u524d\u5f80\u4e26\u767b\u5165",Object(x.jsx)(S.a,{href:"https://notify-bot.line.me/my/",rel:"noreferrer",color:"secondary",children:"Line Notify \u8a2d\u5b9a\u9801\u9762"})]}),"*\u9996\u6b21\u767b\u5165\u6703\u9700\u8981\u5728Line\u8f38\u5165\u9a57\u8b49\u78bc",Object(x.jsx)("img",{src:"https://i.imgur.com/5Wl97MC.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:'2. \u9ede\u9078 "\u767c\u884c\u6b0a\u6756"'}),Object(x.jsx)("img",{src:"https://i.imgur.com/CRRgOEL.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:'3. \u5b8c\u6210\u8a2d\u5b9a\u5f8c\u9ede\u9078 "\u767c\u884c"'}),Object(x.jsxs)(b.a,{children:["*\u6b0a\u6756\u540d\u7a31\u5efa\u8b70\u586b\u5beb ",Object(x.jsx)("b",{children:"CLHS-nowotify"}),"\uff0c\u65b9\u4fbf\u65e5\u5f8c\u8fa8\u8b58"]}),Object(x.jsxs)(b.a,{component:"p",children:[Object(x.jsx)("br",{}),'\u53ef\u4ee5\u9078\u64c7 "\u900f\u904e1\u5c0d1\u804a\u5929\u63a5\u6536LINE Notify\u7684\u901a\u77e5"',Object(x.jsx)("br",{}),'\u76f4\u63a5\u5f9e "Line Notify\u7684\u5e33\u865f" \u63a5\u6536\u901a\u77e5']}),Object(x.jsx)("img",{src:"https://i.imgur.com/UmLRfyi.png",alt:"",className:c.image}),Object(x.jsxs)(b.a,{component:"p",children:[Object(x.jsx)("br",{}),"\u6216\u662f\u9078\u64c7\u4e00\u500b\u7fa4\u7d44\u4f86\u63a5\u6536\u901a\u77e5"]}),Object(x.jsx)("img",{src:"https://i.imgur.com/Ydw6fac.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:"4. \u9ede\u9078\u8907\u88fd"}),Object(x.jsx)("img",{src:"https://i.imgur.com/7GGhfjm.png",alt:"",className:c.image}),Object(x.jsx)(b.a,{variant:"h6",className:c.step,children:"5."}),Object(x.jsxs)(b.a,{component:"p",children:['\u5982\u679c\u662f\u9078\u64c7 "\u900f\u904e1\u5c0d1\u804a\u5929\u63a5\u6536LINE Notify\u7684\u901a\u77e5"',Object(x.jsx)("br",{})," \u5230\u9019\u908a\u5c31\u5b8c\u6210\u8a2d\u5b9a\u4e86",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),' \u5982\u679c\u662f\u9078\u64c7 "\u4f7f\u7528\u7fa4\u7d44\u63a5\u6536\u901a\u77e5"',Object(x.jsx)("br",{}),'\u5247\u9700\u8981\u4f9d\u7167\u6307\u793a\u5c07 "LINE Notify" \u5e33\u865f\u52a0\u5165\u7fa4\u7d44']}),Object(x.jsx)("img",{src:"https://i.imgur.com/CDYEWJ5.png",alt:"",className:c.image})]})]})},D=a.a.createContext({}),W=c(132),_=c(133),E=c(145),T=c(134),B=c(146),R=c(136),H=c(143),A=c(142),F=c(135),I=c(144),P=c(137),z=c(138),G=Object(l.a)((function(e){return{formOuter:{paddingTop:e.spacing(8)},form:{width:"100%",marginTop:e.spacing(3)}}})),K=function(e){var t=e.formState,c=e.KEYWORD_TABLE,a=e.GROUP_TABLE,i=Object(n.useContext)(D),r=i.formDispatch,o=i.setToggleMakeNowotify,j=Object(n.useState)(t.name),l=Object(s.a)(j,2),h=l[0],O=l[1],u=Object(n.useState)(t.type),m=Object(s.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)(t.data),v=Object(s.a)(g,2),S=v[0],L=v[1],K=Object(n.useState)(t.only_pinned),U=Object(s.a)(K,2),Y=U[0],M=U[1],J=Object(n.useState)(t.blocked_keyword_ids),q=Object(s.a)(J,2),Q=q[0],V=q[1],X=Object(n.useState)(t.group),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1];Object(n.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"});var e=function(e){3===e.button&&(e.preventDefault(),te())};return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[]);var te=function(){O(""),f("discord"),L(""),M(!1),V([0,1]),ee(["main"]),r({type:"init"}),o(!1)},ce=G();return Object(x.jsxs)(W.a,{maxWidth:"sm",children:[Object(x.jsx)(_.a,{}),Object(x.jsxs)("div",{className:ce.formOuter,children:[Object(x.jsx)(b.a,{variant:"h4",children:Object(x.jsxs)("b",{children:[t.id.length?"\u66f4\u65b0":"\u65b0\u589e"," nowotify"]})}),Object(x.jsx)("form",{className:ce.form,noValidate:!0,children:Object(x.jsxs)(d.a,{container:!0,spacing:2,children:[Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsxs)(E.a,{children:[Object(x.jsx)(T.a,{component:"legend",required:!0,children:"\u901a\u77e5\u5e73\u53f0"}),Object(x.jsxs)(B.a,{value:p,onChange:function(e){return f(e.target.value)},children:[Object(x.jsx)(R.a,{value:"discord",control:Object(x.jsx)(H.a,{}),label:"Discord"}),Object(x.jsx)(R.a,{value:"line",control:Object(x.jsx)(H.a,{}),label:"Line"})]})]})}),Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsx)(A.a,{variant:"outlined",fullWidth:!0,label:"\u7fa4\u7d44\u540d\u7a31",required:!0,value:h,onChange:function(e){return O(e.target.value)}})}),Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsx)(A.a,{variant:"outlined",fullWidth:!0,required:!0,label:"discord"===p?"Discord Webhook url":"Line Notify token",value:S,onChange:function(e){return L(e.target.value)}})}),Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsxs)(E.a,{component:"fieldset",children:[Object(x.jsx)(T.a,{component:"legend",required:!0,children:"\u516c\u544a\u4f86\u6e90 (\u81f3\u5c11\u8981\u52fe\u9078\u4e00\u9805\u4f86\u6e90)"}),Object(x.jsx)(F.a,{children:a.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)(R.a,{label:e.name,control:Object(x.jsx)(I.a,{checked:$.includes(e.id),onChange:function(){return ee((function(t){return t.includes(e.id)?t.filter((function(t){return t!==e.id})):[].concat(Object(w.a)(t),[e.id])}))}})})},t)}))})]})}),Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsxs)(E.a,{component:"fieldset",children:[Object(x.jsx)(T.a,{component:"legend",children:"\u7576\u516c\u544a\u5167\u5bb9\u51fa\u73fe\u4ee5\u4e0b\u9078\u53d6\u7684\u95dc\u9375\u5b57\uff0c\u4e0d\u8981\u767c\u9001\u901a\u77e5"}),Object(x.jsx)(F.a,{children:c.map((function(e,t){var c=Object(y.a)(e),n=c[0],a=c.slice(1);return Object(x.jsxs)("div",{children:[Object(x.jsx)(R.a,{label:n,control:Object(x.jsx)(P.a,{name:t.toString(),checked:Q.includes(t),onChange:function(){return V((function(e){return e.includes(t)?e.filter((function(e){return e!==t})):[].concat(Object(w.a)(e),[t])}))}})}),Object(x.jsxs)(b.a,{component:"span",color:"textSecondary",children:["(",a.join(", "),")"]})]},t)}))})]})}),Object(x.jsx)(d.a,{item:!0,xs:12,children:Object(x.jsx)(E.a,{component:"fieldset",children:Object(x.jsxs)(F.a,{children:[Object(x.jsx)(T.a,{component:"legend",children:"\u901a\u77e5\u9078\u9805"}),Object(x.jsx)(R.a,{control:Object(x.jsx)(I.a,{checked:Y,onChange:function(){return M((function(e){return!e}))}}),label:"\u53ea\u63a5\u6536\u91d8\u9078\u516c\u544a (\u6709\u7d05\u8272HOT!\u6a19\u7c64\u7684)"})]})})}),Object(x.jsx)(d.a,{item:!0,xs:6,children:Object(x.jsx)(z.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:te,children:"\u53d6\u6d88"})}),Object(x.jsx)(d.a,{item:!0,xs:6,children:Object(x.jsx)(z.a,{fullWidth:!0,variant:"contained",color:"primary",disabled:!h.length||!S.length||!$.length,onClick:function(){h.length&&S.length&&(!function(e){var t=e.id,c=Object(N.a)(e,k);t.length?xe.collection("links").doc(t).update(c):xe.collection("links").add(c)}({name:h,type:p,data:S,only_pinned:Y,uid:t.uid,id:t.id,blocked_keyword_ids:Q,group:$}),te())},children:t.id.length?"\u66f4\u65b0 !":"\u65b0\u589e !"})})]})}),Object(x.jsx)(C,{type:p})]})]})},U=c(70),Y=Object(l.a)({card:{display:"flex"},cardDetails:{flex:1,textAlign:"center",height:"100%",width:"100%"},cardButton:{height:"100%",width:"100%"}}),M=function(e){var t=e.setToggle,c=Y();return Object(x.jsx)(O.a,{className:c.card,children:Object(x.jsx)("div",{className:c.cardDetails,children:Object(x.jsx)(U.a,{className:c.cardButton,onClick:function(){return t((function(e){return!e}))},children:Object(x.jsx)(h.a,{component:"div",children:Object(x.jsx)(u.a,{children:Object(x.jsx)(b.a,{component:"h2",variant:"h4",children:"\u65b0\u589e nowotify"})})})})})})},J=c(45),q=c.n(J),Q=c(58),V=function(){var e=Object(Q.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new o.a.auth.GoogleAuthProvider,e.next=3,me.signInWithRedirect(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(Q.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.signOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=c(139),$=c(147),ee=Object(l.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:{flex:1},avatar:{marginLeft:e.spacing(1)}}})),te=function(){var e=Object(n.useContext)(pe),t=ee();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(Z.a,{className:t.toolbar,children:[Object(x.jsx)(b.a,{component:"h2",variant:"h4",color:"inherit",noWrap:!0,className:t.toolbarTitle,children:"CLHS nowotify"}),Object(x.jsx)(z.a,{variant:"contained",size:"small",onClick:X,children:"Sign out"}),Object(x.jsx)($.a,{alt:e.displayName||"",src:e.photoURL||"",className:t.avatar})]})})},ce=c(25),ne=c(140),ae=Object(l.a)({card:{marginTop:"20px",display:"flex"},cardDetails:{flex:1}}),ie=function(e){var t=e.nowotify,c=Object(n.useContext)(D),a=c.formDispatch,i=c.setToggleMakeNowotify,r=ae();return Object(x.jsx)(O.a,{className:r.card,children:Object(x.jsxs)("div",{className:r.cardDetails,children:[Object(x.jsxs)(u.a,{children:[Object(x.jsx)(b.a,{component:"h2",variant:"h5",children:t.name}),Object(x.jsxs)(b.a,{variant:"subtitle1",color:"textSecondary",children:["discord"===t.type?"Discord webhook":"Line notify",t.only_pinned&&" (\u53ea\u63a5\u6536\u91d8\u9078\u516c\u544a)"]})]}),Object(x.jsxs)(ne.a,{children:["line"!==t.type&&Object(x.jsx)(z.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){var e,c;e=t.type,c=t.data,"discord"===e&&fetch(c,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({embeds:[{title:"\u6e2c\u8a66\u8a0a\u606f",description:"\u611f\u8b1d\u4f60\u4f7f\u7528CLHS nowotify :)",url:"https://github.com/BWsix/CLHS-nowotify",color:14177041,author:{name:"CLHS nowotify"}}]})})},children:"\u767c\u9001\u6e2c\u8a66\u8a0a\u606f"}),Object(x.jsx)(z.a,{variant:"contained",size:"medium",color:"primary",onClick:function(){a({type:"update",data:Object(ce.a)({},t)}),i(!0)},children:"\u7de8\u8f2f"}),Object(x.jsx)(z.a,{variant:"contained",size:"medium",color:"secondary",onClick:function(){var e;window.confirm("\u78ba\u8a8d\u522a\u9664")&&(e=t.id,xe.collection("links").doc(e).delete())},children:"\u522a\u9664"})]})]})})},re=c(16),se=c(94),oe=Object(l.a)((function(e){return{mainFeaturedPost:{marginTop:e.spacing(3),position:"relative",color:e.palette.common.white,marginBottom:e.spacing(3),backgroundImage:"url(https://i.imgur.com/Bf3la7K.png)",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},overlay:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0,0,0,.7)"},mainFeaturedPostContent:Object(re.a)({position:"relative",padding:e.spacing(3)},e.breakpoints.up("md"),{padding:e.spacing(6),paddingRight:0})}})),je=function(e){var t=e.with_login,c=oe();return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(se.a,{className:c.mainFeaturedPost,children:[Object(x.jsx)("div",{className:c.overlay}),Object(x.jsx)(d.a,{container:!0,children:Object(x.jsx)(d.a,{item:!0,md:6,children:Object(x.jsxs)("div",{className:c.mainFeaturedPostContent,children:[Object(x.jsx)(b.a,{variant:"h5",color:"inherit",paragraph:!0,children:"\u4f7f\u7528 Discord / Line \u53ca\u6642\u63a5\u6536\u58e2\u4e2d\u5b98\u7db2\u516c\u544a"}),Object(x.jsx)(b.a,{component:"h1",variant:"h3",color:"inherit",gutterBottom:!0,children:Object(x.jsx)("b",{children:"CLHS nowotify"})}),t&&Object(x.jsx)(z.a,{variant:"contained",onClick:V,size:"large",children:"\u4f7f\u7528Google\u5e33\u865f\u767b\u5165\u8a2d\u5b9a\u9801\u9762"})]})})})]})})},le=function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(W.a,{maxWidth:"lg",children:[Object(x.jsx)(je,{with_login:!0}),Object(x.jsxs)(d.a,{container:!0,spacing:4,children:[Object(x.jsx)(g,{}),Object(x.jsx)(v,{})]})]})})},de=function(e,t){var c=Object(ce.a)(Object(ce.a)({},e),{},{id:"",type:"discord",data:"",name:"",only_pinned:!1,blocked_keyword_ids:[0,1],group:["main"]});switch(t.type){case"init":return c;case"update":return Object(ce.a)(Object(ce.a)({},e),t.data);default:return c}},be="https://api.github.com/repos/BWsix/CLHS-nowotify-server/contents/data/",he=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],i=t[1],r=function(){var e=Object(n.useContext)(pe),t=Object(n.useReducer)(de,{id:"",type:"discord",data:"",name:"",uid:e.uid,only_pinned:!1,blocked_keyword_ids:[0,1],group:["main"]}),c=Object(s.a)(t,2);return{formState:c[0],formDispatch:c[1]}}(),o=r.formState,j=r.formDispatch,l=function(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),a=c[0],i=c[1],r=Object(n.useState)(!0),o=Object(s.a)(r,2),j=o[0],l=o[1];return Object(n.useEffect)((function(){return xe.collection("links").where("uid","==",e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(ce.a)(Object(ce.a)({},e.data()),{},{id:e.id}))})),i(t),l(!1)}))}),[]),{nowotifys:a,isLoadingNowotifys:j}}(o.uid),h=l.nowotifys,O=l.isLoadingNowotifys,u=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),r=Object(s.a)(i,2),o=r[0],j=r[1],l=Object(n.useState)([]),d=Object(s.a)(l,2),b=d[0],h=d[1],O=Object(n.useState)([]),u=Object(s.a)(O,2),x=u[0],m=u[1];return Object(n.useEffect)((function(){fetch(be+"keywords.json").then((function(e){return e.json()})).then((function(e){var t=e.content;t=decodeURIComponent(escape(atob(t))),t=JSON.parse(t),h(t),a(!1)})).catch((function(e){j(!0)})),fetch(be+"groups.json").then((function(e){return e.json()})).then((function(e){var t=e.content;t=decodeURIComponent(escape(atob(t))),t=JSON.parse(t);var c=Object.keys(t);m(c.map((function(e){return{id:e,name:t[e].display_name}}))),a(!1)})).catch((function(e){j(!0)}))}),[]),{KEYWORD_TABLE:b,GROUP_TABLE:x,isLoading:c,error:o}}(),m=u.GROUP_TABLE,p=u.KEYWORD_TABLE,f=u.isLoading;return u.error?Object(x.jsx)(x.Fragment,{children:"ERROR"}):Object(x.jsx)(D.Provider,{value:{setToggleMakeNowotify:i,formDispatch:j},children:Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(_.a,{}),c?Object(x.jsx)(K,{formState:o,KEYWORD_TABLE:p,GROUP_TABLE:m}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(je,{}),Object(x.jsxs)(d.a,{container:!0,spacing:4,children:[Object(x.jsxs)(d.a,{item:!0,xs:12,md:6,children:[Object(x.jsx)(b.a,{component:"h2",variant:"h4",color:"textSecondary",children:Object(x.jsx)("b",{children:"Nowotify\u5217\u8868"})}),O?Object(x.jsx)(b.a,{color:"textSecondary",children:"Loading..."}):h.map((function(e){return Object(x.jsx)(ie,{nowotify:e},e.id)})),Object(x.jsx)("br",{}),!f&&Object(x.jsx)(M,{setToggle:i})]}),Object(x.jsx)(v,{})]})]})]})})},Oe=c(67),ue=c(141);o.a.apps.length||o.a.initializeApp({apiKey:"AIzaSyAxwr8SWBKi76W6OnDt6D18bL5HCezkILM",authDomain:"clhs-nowotify.firebaseapp.com",projectId:"clhs-nowotify",storageBucket:"clhs-nowotify.appspot.com",messagingSenderId:"444119791112",appId:"1:444119791112:web:6d03dd86b7af65018643bd"});var xe=o.a.firestore(),me=o.a.auth(),pe=a.a.createContext({}),fe=function(){var e=Object(j.a)(me),t=Object(s.a)(e,3),c=t[0],n=t[1];if(t[2])return Object(x.jsx)(x.Fragment,{children:"error"});if(n)return Object(x.jsx)(x.Fragment,{children:"loading"});var a=Object(Oe.a)({palette:{type:"dark"}});return Object(x.jsx)(ue.a,{theme:a,children:c?Object(x.jsx)(pe.Provider,{value:c,children:Object(x.jsxs)(W.a,{maxWidth:"lg",children:[Object(x.jsx)(te,{}),Object(x.jsx)(he,{})]})}):Object(x.jsx)(le,{})})};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(fe,{})}),document.getElementById("root"))}},[[91,1,2]]]);